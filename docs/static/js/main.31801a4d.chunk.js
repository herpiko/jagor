(this.webpackJsonpjentor=this.webpackJsonpjentor||[]).push([[0],{101:function(t,e,a){},18:function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id=18},216:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(8),o=a.n(r),s=(a(81),a(66)),l=a(67),u=a(74),c=a(68),M=a(75),g=a(36),d=a.n(g),w=a(69),N=a.n(w),m=a(70),y=a.n(m),j=a(37),h=a.n(j),T=(a(101),a(38)),p=a(71),D=a.n(p),L=(a(106),a(107),a(41)),C=a(26),f=a(73),O=a.n(f),E=a(42),b=a.n(E),S=a(43);a(214);window.pdfjsLib=d.a;var x={value:null,files:[],loading:!1,done:!1,tableViewEnabled:!1,categorySpendingEnabled:!1,monthMap:["january","februari","march","april","may","june","july","augustus","september","october","november","december"],jeniusCategories:["Account receivable","Additional Income","Allowance","Bonus","Books","Business profit","Cable TV","Cafe","Capital Gain","Cash withdrawal","Charity & donation","Children","Cinema","Cost & taxes","Credit Card","Doctor fee","Domestic helper","Drugs/ medicine","Education","Entertainment","Fashion","Food & Drinks","Gadget & electronics","Games","Gas","Gasoline","Gifts","Groceries","Hang out","Healthcare","Hobby","House & apartment rent","Housing","Income","Incoming","Insurance","Interest","Investment","Loans","Mobile & Internet","Others","Outgoing","Parking fee","Personal care","Pet","Refund","Reimbursment","Renovation","Restaurant","Salary","Savings","Sports","Top up card","Top up Wallet","Transportation","Utilities","Vehicle maintenance","Wedding"],rows:[],columns:[{title:"id",field:"id"},{title:"transactionNumber",field:"transactionNumber"},{title:"dateTime",field:"dateTime"},{title:"mutationType",field:"mutationType"},{title:"category",field:"category"},{title:"entityName",field:"entityName"},{title:"entityDetail",field:"entityDetail"},{title:"amount",field:"amount"}],pieData:{all:{datasets:[{data:[],backgroundColor:[]}],labels:[]}},pieDataCurrentRange:"all",timeRangeKeys:[],spendingByCategoryChartType:"Doughnut",chartTypes:["Doughnut","Pie","Bar"]},I=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(u.a)(this,Object(c.a)(e).call(this,t))).componentDidMount=function(){new T.a("jentor").destroy().then((function(){window.db=new T.a("jentor"),a.setState(x)}))},a.renderToText=function(t){return new Promise((function(e,a){return t.getTextContent({normalizeWhitespace:!1,disableCombineTextItems:!1}).then((function(t){var a,n="",i=!0,r=!1,o=void 0;try{for(var s,l=t.items[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;a!==u.transform[5]&&a?n+="\n"+u.str:n+=u.str,a=u.transform[5]}}catch(c){r=!0,o=c}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}e(n)})).catch((function(t){a(t)}))}))},a.parse=function(t){var e=t.text.split("CategoryTransaction Type");e.splice(0,1);var a=e.join("CateoryTransaction Type").split("\n"),n=[],i=!1,r={},o=0;for(var s in a)if(i)switch(o){case 1:r.time=a[s].trim(),o++;break;case 2:r.entityName=a[s].trim(),o++;break;case 3:if(a[s].trim().indexOf(" | ")<0){r.entityDetail=a[s].trim(),o++;break}o++;case 4:r.transactionNumber=a[s].trim().split(" | ")[0],r.category=a[s].trim().split(" | ")[1],o++;break;case 5:"-"===a[s].trim().split(" ")[0]?r.mutationType="credit":"+"===a[s].trim().split(" ")[0]&&(r.mutationType="debit"),r.amount=a[s].trim().split(" ")[1],i=!1,o=0,n.push(r),r={},s}else{var l=!1,u=void 0,c=void 0;try{c=(u=new Date(a[s])).toString()}catch(M){l=!0}l||"Invalid Date"===c||3!==a[s].split(" ").length||(i=!0,r.date=u,o=1)}return n},a.handlePDF=function(t){var e,n,i={numpages:0,numrender:0,info:null,metadata:null,text:"",version:null};d.a.getDocument(t).then((function(t){return e=t,i.numpages=e.numPages,e.getMetadata()})).then((function(t){n=t;var r=e.numPages;r=r>e.numPages?e.numPages:r,i.text="";for(var o=[],s=1;s<=r;s++)o.push(s);h.a.eachSeries(o,(function(t,n){e.getPage(t).then((function(t){return a.renderToText(t)})).then((function(t){i.text+="\n\n"+t,n()})).catch((function(t){console.log(t)}))}),(function(t){t&&console.log(t),i.metaData=n,i.numrender=r,e.destroy();var o=a.parse(i);a.processDb(o)}))})).catch((function(t){console.log(t)}))},a.processDb=function(t){var e=0,n=[];h.a.eachSeries(t,(function(t,a){e++,t._id=D()(e+t.transactionNumber+t.date.toISOString()+t.time+""),t.id=e+1,t.date=new Date(t.date),t.time&&5===t.time.length&&t.time.indexOf(":")>-1&&(t.dateTime=t.date,t.dateTime.setHours(parseInt(t.time.split(":")[0],10)),t.dateTime.setMinutes(parseInt(t.time.split(":")[1],10))),t.amount=parseInt(t.amount.replace(/,/g,""),10),n.push(t),a()}),(function(t){console.log(t),a.setState({rows:n,tableViewEnabled:!0,categorySpendingEnabled:!0},(function(){a.processChart()}))}))},a.processChart=function(){var t={all:{}},e=new Date(a.state.rows[0].dateTime),n=new Date(a.state.rows[a.state.rows.length-1].dateTime),i=new Date(n),r={};r[i.getFullYear().toString()]=r[i.getFullYear().toString()]||[],r[i.getFullYear().toString()].push(i.getMonth());var o=!0;for(i.setDate(1);o;)r[i.getFullYear().toString()]=r[i.getFullYear().toString()]||[],r[i.getFullYear().toString()].push(i.getMonth()+1),i.getMonth()+1===12?(i.setYear(i.getFullYear()+1),i.setMonth(0)):i.setMonth(i.getMonth()+1),i.getFullYear()===e.getFullYear()&&i.getMonth()===e.getMonth()&&(o=!1,r[i.getFullYear().toString()]=r[i.getFullYear().toString()]||[],r[i.getFullYear().toString()].push(i.getMonth()+1));for(var s in a.state.jeniusCategories)for(var l in t.all[a.state.jeniusCategories[s]]=0,Object.keys(r)){var u=Object.keys(r)[l];for(var c in r[u])t[u+"_"+a.state.monthMap[r[u][c]-1]]=t[u+"_"+a.state.monthMap[r[u][c]-1]]||{},t[u+"_"+a.state.monthMap[r[u][c]-1]][a.state.jeniusCategories[s]]=0}for(var M in a.setState({timeRangeKeys:Object.keys(t).reverse()}),a.state.rows){var g=new Date(a.state.rows[M].dateTime),d=g.getFullYear()+"_"+a.state.monthMap[g.getMonth()];"credit"===a.state.rows[M].mutationType?(t.all[a.state.rows[M].category]+=a.state.rows[M].amount,t[d][a.state.rows[M].category]+=a.state.rows[M].amount):(t.all[a.state.rows[M].category]-=a.state.rows[M].amount,t[d][a.state.rows[M].category]-=a.state.rows[M].amount)}var w={all:{datasets:[{data:[],backgroundColor:[]}],labels:[]}},N=JSON.parse(JSON.stringify(w.all)),m=Object.keys(t.all);for(var y in m){var j=Object.keys(t);for(var h in j)if(w[j[h]]=w[j[h]]||JSON.parse(JSON.stringify(N)),t[j[h]][m[y]]>0){var T=O()();w[j[h]].datasets[0].data.push(t[j[h]][m[y]]),w[j[h]].datasets[0].backgroundColor.push(T),w[j[h]].labels.push(m[y])}}a.setState({pieData:w,loading:!1,done:!0})},a.handleChange=function(t){var e=new FileReader;e.onload=function(){var t=new Uint8Array(e.result);a.setState({loading:!0},(function(){a.handlePDF(t)}))},e.readAsArrayBuffer(t[0])},a.state={},a}return Object(M.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"App"},this.state.loading&&i.a.createElement("img",{src:N.a,className:"App-logo",alt:"logo"}),!this.state.done&&i.a.createElement("header",{className:"App-header"},!this.state.loading&&i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("div",{style:{width:"100%",height:"60vh",paddingTop:"30vh"}},i.a.createElement("h1",null,"Jentor"),i.a.createElement("p",null,"Your Jenius Transaction History Parser"),i.a.createElement("input",{type:"file",onChange:function(e){return t.handleChange(e.target.files)}})),i.a.createElement("div",{style:{backgroundImage:"url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMTVweCIgdmlld0JveD0iMCAwIDEyODAgMTQwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGZpbGw9IiNmZmZmZmYiPjxwYXRoIGQ9Ik04NTMuODkzLDg2Ljk5OGMtMzguODU5LDAtNTguODExLTE2LjQ1NS03Ny45NTYtMzUuMDUxYzE4LjI5NS0xMC41MzYsNDAuODkxLTE4LjI3Niw3My4zNzgtMTguMjc2IGMzOC42ODUsMCw2NC4xMzIsMTIuNTY0LDg1LjQ4OSwyOC4zNDdDOTE2LjE5Miw3Mi4wMTIsOTAwLjgsODYuOTk4LDg1My44OTMsODYuOTk4eiBNNTI2LjI2NSw4MC45NDUgYy02LjUxNy0wLjU2Mi0xMy41OTktMC44NzktMjEuNDEtMC44NzljLTcwLjc5OSwwLTkxLjMzNywyNy4yMjktMTM0LjQzMywzNS42NjJjMTQuOTAxLDMuNzIsMzIuMTE4LDYuMDcsNTIuODk4LDYuMDcgQzQ3MC4xNzEsMTIxLjc5Nyw1MDAuMzQsMTAzLjQyMSw1MjYuMjY1LDgwLjk0NXoiIGZpbGwtb3BhY2l0eT0iLjMiLz48cGF0aCBkPSJNNjYzLjQ1OCwxMDkuNjcxYy02Ny4xMzcsMC04MC4zNDUtMjMuODI0LTEzNy4xOTMtMjguNzI2QzU2Ny4wODYsNDUuNTU1LDU5Ny4zODEsMCw2NjUuNjkxLDAgYzYxLjg1NywwLDg1LjM2OSwyNy43ODIsMTEwLjI0Niw1MS45NDdDNzM2Ljg4OCw3NC40MzQsNzE3LjQ1OSwxMDkuNjcxLDY2My40NTgsMTA5LjY3MXogTTIxNy42OCw5NC4xNjMgYzU1Ljk3MSwwLDYyLjUyNiwyNC4wMjYsMTI2LjMzNywyNC4wMjZjOS44NTgsMCwxOC41MDgtMC45MTYsMjYuNDA0LTIuNDYxYy01Ny4xODYtMTQuMjc4LTgwLjE3Ny00OC44MDgtMTM4LjY1OS00OC44MDggYy03Ny4wNjMsMC05OS45Niw0OC41NjktMTUxLjc1MSw0OC41NjljLTQwLjAwNiwwLTYwLjAwOC0xMi4yMDYtODAuMDExLTI5LjUwNnYxNi44MDZjMjAuMDAzLDEwLjg5MSw0MC4wMDUsMjEuNzgyLDgwLjAxMSwyMS43ODIgQzE2MC4wMTQsMTI0LjU3LDE1OC42MDgsOTQuMTYzLDIxNy42OCw5NC4xNjN6IE0xMjAwLjExMiw0Ni4yOTJjLTU3LjQ5MywwLTU2LjkzNSw0Ni41OTUtMTE1LjAxNSw0Ni41OTUgYy01My42MTIsMC01OS43NTUtMzkuNjE4LTExNS42MDItMzkuNjE4Yy0xNS4yNjcsMC0yNS4zODEsMy43NTEtMzQuNjksOC43NDljMzYuMDk2LDI2LjY3NSw2MC41MDMsNjIuNTUyLDExNy4zNDIsNjIuNTUyIGM2OS4yNDksMCw3NS45NTEtNDMuNTU5LDE0Ny45NjQtNDMuNTU5YzM5LjgwNCwwLDU5Ljk4NiwxMC45NDMsNzkuODg4LDIxLjc3N1Y4NS45ODIgQzEyNjAuMDk3LDY4Ljc3MSwxMjM5LjkxNiw0Ni4yOTIsMTIwMC4xMTIsNDYuMjkyeiIgZmlsbC1vcGFjaXR5PSIuNSIvPjxwYXRoIGQ9Ik0xMDUyLjE0NywxMjQuNTdjLTU2Ljg0LDAtODEuMjQ3LTM1Ljg3Ni0xMTcuMzQyLTYyLjU1MmMtMTguNjEzLDkuOTk0LTM0LjAwNSwyNC45OC04MC45MTIsMjQuOTggYy0zOC44NTksMC01OC44MTEtMTYuNDU1LTc3Ljk1Ni0zNS4wNTFjLTM5LjA1LDIyLjQ4Ny01OC40NzksNTcuNzI0LTExMi40OCw1Ny43MjRjLTY3LjEzNywwLTgwLjM0NS0yMy44MjQtMTM3LjE5My0yOC43MjYgYy0yNS45MjUsMjIuNDc1LTU2LjA5Myw0MC44NTItMTAyLjk0Niw0MC44NTJjLTIwLjc3OSwwLTM3Ljk5Ni0yLjM0OS01Mi44OTgtNi4wN2MtNy44OTUsMS41NDUtMTYuNTQ2LDIuNDYxLTI2LjQwNCwyLjQ2MSBjLTYzLjgxMSwwLTcwLjM2Ni0yNC4wMjYtMTI2LjMzNy0yNC4wMjZjLTU5LjA3MiwwLTU3LjY2NSwzMC40MDctMTM3LjY2OSwzMC40MDdjLTQwLjAwNiwwLTYwLjAwOC0xMC44OTEtODAuMDExLTIxLjc4MlYxNDBoMTI4MCB2LTM3LjIxMmMtMTkuOTAzLTEwLjgzNS00MC4wODQtMjEuNzc3LTc5Ljg4OC0yMS43NzdDMTEyOC4wOTgsODEuMDExLDExMjEuMzk3LDEyNC41NywxMDUyLjE0NywxMjQuNTd6Ii8+PC9nPjwvc3ZnPg==)",height:"115px",marginTop:"-115px"}}),i.a.createElement("div",{className:"App-secondary-landing"},i.a.createElement("img",{src:y.a,className:"App-howto",alt:"howto"}),i.a.createElement("div",{className:"disclaimer"},"Jentor is originally an unsuccessfull submission for"," ",i.a.createElement("a",{href:"https://www.cocreate.id/cocreation-week-2020/hackathon/"},"Jenius's CoCreation Week 2020 Hackathon"),". See"," ",i.a.createElement("a",{href:"https://github.com/herpiko/jentor/blob/master/jentor.pdf"},"our proposal here"),"."),i.a.createElement("div",{className:"disclaimer"},"Our app does not and will not upload the PDF file to the cloud. Your document will be parsed and processed in the app/browser itself, hence zero user data will be out from your device. We know and fully understand about privacy.",i.a.createElement("br",null),i.a.createElement("br",null),"Still unsure? Check our"," ",i.a.createElement("a",{href:"https://github.com/herpiko/jentor"},"source code here"),".")))),this.state.done&&i.a.createElement("div",{className:"App-done-header"},"Jentor"," ",i.a.createElement("button",{style:{position:"absolute",left:15},onClick:function(){t.componentDidMount()}},"Reset")),this.state.categorySpendingEnabled&&i.a.createElement("div",{style:{marginBottom:50,padding:15}},i.a.createElement("h4",null,"Spending by Category"),i.a.createElement(b.a,{options:this.state.timeRangeKeys,placeHolder:"All (from beginning)",onChange:function(e){t.setState({pieDataCurrentRange:e.value})},value:this.state.pieDataCurrentRange}),"Doughnut"===this.state.spendingByCategoryChartType&&i.a.createElement(C.b,{data:this.state.pieData[this.state.pieDataCurrentRange],width:500,height:300,options:{maintainAspectRatio:!1}}),"Pie"===this.state.spendingByCategoryChartType&&i.a.createElement(C.c,{data:this.state.pieData[this.state.pieDataCurrentRange],width:500,height:300,options:{maintainAspectRatio:!1}}),"Bar"===this.state.spendingByCategoryChartType&&i.a.createElement(C.a,{data:this.state.pieData[this.state.pieDataCurrentRange],width:500,height:300,options:{maintainAspectRatio:!1}}),i.a.createElement("div",{style:{width:"120px",float:"right"}},i.a.createElement(b.a,{options:this.state.chartTypes,placeHolder:"Doughnut",onChange:function(e){t.setState({spendingByCategoryChartType:e.value})},value:this.state.spendingByCategoryChartType})),i.a.createElement("br",null)),i.a.createElement("h4",null,"Spending by Category"),i.a.createElement("div",null,i.a.createElement(S.BrowserView,null,this.state.rows&&this.state.rows.length>0&&this.state.tableViewEnabled&&i.a.createElement(L.ReactTabulator,{data:this.state.rows,columns:this.state.columns,tooltips:!0,layout:"fitData"})),i.a.createElement(S.MobileView,null,this.state.rows&&this.state.rows.length>0&&this.state.tableViewEnabled&&i.a.createElement(L.ReactTabulator,{data:this.state.rows,columns:this.state.columns,tooltips:!0,layout:"fitData"}))))}}]),e}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},69:function(t,e,a){t.exports=a.p+"static/media/spinner.c460e012.gif"},70:function(t,e,a){t.exports=a.p+"static/media/howto.577ef68a.png"},76:function(t,e,a){t.exports=a(216)},81:function(t,e,a){},86:function(t,e){},88:function(t,e){},89:function(t,e){},90:function(t,e){},91:function(t,e){}},[[76,1,2]]]);